<div class="agregar-producto">
    <h2>Añadir nuevo producto</h2>
    <form (ngSubmit)="agregarProducto(productoForm)" #productoForm="ngForm">

        <label for="nombre">Nombre:</label>
        <input type="text" id="nombre" name="nombre" [(ngModel)]="producto.nombre" #nombre="ngModel" required>
        <!-- Mensaje de error para el nombre -->
        <div *ngIf="nombre.invalid && nombre.touched" class="error">
            <div *ngIf="nombre.errors?.['required']">El nombre del producto es obligatorio.</div>
        </div>

        <label for="descripcion">Descripción:</label>
        <textarea id="descripcion" name="descripcion" [(ngModel)]="producto.descripcion" #descripcion="ngModel"
            rows="4"></textarea>

        <label for="precio">Precio:</label>
        <input type="number" id="precio" name="precio" [(ngModel)]="producto.precio" #precio="ngModel" required min="1">
        <!-- Mensaje de error para el precio -->
        <div *ngIf="precio.invalid && precio.touched" class="error">
            <div *ngIf="precio.errors?.['required']">El precio es obligatorio.</div>
            <div *ngIf="precio.errors?.['min']">El precio debe ser mayor que 0.</div>
        </div>

        <label for="stock">Cantidad:</label>
        <input type="number" id="stock" name="stock" [(ngModel)]="producto.stock" #stock="ngModel" required min="1">
        <!-- Mensaje de error para la cantidad -->
        <div *ngIf="stock.invalid && stock.touched" class="error">
            <div *ngIf="stock.errors?.['required']">La cantidad es obligatoria.</div>
            <div *ngIf="stock.errors?.['min']">La cantidad mínima es 1.</div>
        </div>

        <label for="umbral">Umbral:</label>
        <input type="number" id="umbral" name="umbral" [(ngModel)]="producto.umbral" #umbral="ngModel" required min="1">
        <!-- Mensaje de error para el umbral -->
        <div *ngIf="umbral.invalid && umbral.touched" class="error">
            <div *ngIf="umbral.errors?.['required']">El umbral es obligatorio.</div>
            <div *ngIf="umbral.errors?.['min']">El umbral mínimo debe ser mayor que 0.</div>
            <div *ngIf="umbral.errors?.['max']">El umbral mínimo no puede superar la cantidad en stock.</div>
        </div>

        <div *ngIf="errorMessage" class="error-message">
            {{ errorMessage }}
        </div>

        <button type="submit" class="button-success" [disabled]="!productoForm.valid">Añadir Producto</button>
    </form>
</div>